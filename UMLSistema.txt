@startuml
class Entidad{
 -nombre: String
 -localizacion: Localizacion
 -establecimientos: List<Establecimiento>
 -tipoEntidad : TipoEntidad
}

enum TipoEntidad{
    LINEA_SUBTERRANEO
    LINEA_FERROCARRIL
    ORGANIZACION
}

class Localizacion{
 +provincia: Provincia
 +departamento: Departamento
 +municipio: Municipio
}

class Municipio{
 +nombre: String
}

class Departamento{
 +nombre: String
 +municipios: List<Municipio>
}

class Provincia{
 +nombre: String
 +departamentos: List<Departamento>
}

class PrestadoraDeServicio{
 -usuario: Usuario
 -designado: Designado
 -entidades: List<Entidad>
}

class OrganismoDeControl{
 -usuario: Usuario
 -designado: Designado
 -prestadorasDeServicio: List<PrestadoraDeServicio>
}

class Establecimiento{
 -nombre: String
 -tipo: TipoEstablecimiento
 -localizacion: Localizacion
 -servicios: List<Servicio>

    +habilitarServicio(Servicio: servicio): void
    +deshabilitarServicio(Servicio: servicio): void
    +eliminarServicio(Servicio: servicio): void
}

enum TipoEstablecimiento{
 ESTACION
 SUCURSAL
}

class Servicio{
    -descripcion: String
    -estado: EstadoServicio
}

enum EstadoServicio{
    DISPONIBLE
    NO_DISPONIBLE
    MANTENIMIENTO
}

class Comunidad{
    -nombre: String
    -listaAdministradores: Administrador
    -listaMiembros: Miembro
}

class Administrador{
 -persona: Persona

}

class Miembro{
 -persona: Persona
}

class Designado{
 -usuario: Usuario
}


class Persona{
    -usuario: Usuario
    -localizacionesDeInteres: List<Localizacion>
    -entidadesDeInteres: List<Entidad>
    -serviciosDeInteres: List<Servicio>
}


class Usuario{
    -username: String
    -password: String
}


Comunidad *--"*" Miembro
Comunidad *--"*" Administrador

Miembro --> Persona
Administrador --> Persona

Persona --> Usuario

Entidad -->"1" Localizacion
Entidad -->"*" Establecimiento
Entidad --> TipoEntidad


Establecimiento --> TipoEstablecimiento
Establecimiento -->"1" Localizacion
Establecimiento -->"*" Servicio

Persona -->"*" Localizacion
Persona -->"*" Entidad
Persona -->"*" Servicio

OrganismoDeControl --> Usuario
OrganismoDeControl --> Designado
OrganismoDeControl -->"*" PrestadoraDeServicio

PrestadoraDeServicio --> Usuario
PrestadoraDeServicio --> Designado
Designado --> Usuario

PrestadoraDeServicio -->"*" Entidad

Localizacion --> Provincia
Localizacion --> Departamento
Localizacion --> Municipio

Provincia -->"*" Departamento
Departamento -->"*" Municipio

Servicio -->"1" EstadoServicio
@enduml