@startuml
abstract class Entidad{
 -nombre: String
 -localizacion: Localizacion
 -establecimientos: List<Establecimiento>
}

enum TipoLinea{
 Ferrocarril
 Subterraneo
}

class Linea{
 -tipo: TipoLinea

 +estacionInicial(): Establecimiento
 +estacionFinal(): Establecimiento
}

class Organizacion{

}

abstract class Localizacion{
 nombre: String
 perteneceA(Localizacion): Bool
}

class Municipio{
 departamento: Localizacion
}

class Departamento{
 provincia: Localizacion
}

class Provincia{
 pais: Pais
}

class Pais{}


class EmpresaDuenia{
 -usuario: Usuario
 -designado: Designado
 -entidades: List<Entidad>
}

class OrgControl{
 -usuario: Usuario
 -designado: Designado
 -entidades: List<Entidad>
}

class Establecimiento{
 -nombre: String
 -tipo: TipoEstablecimiento
 -localizacion: Localizacion
 -servicios: List<PrestacionDeServicio>

    +habilitarServicio(Servicio: servicio): void
    +deshabilitarServicio(Servicio: servicio): void
    +eliminarServicio(Servicio: servicio): void
}

enum TipoEstablecimiento{
 Estacion
 Sucursal
}

enum TipoLocalizacion{
 Municipio
 Departamento
 Provincia
}

class Servicio{
    -descripcion: String
}

class PrestacionDeServicio{
    +servicio(): Servicio
    +estado(): EstadoServicio
}

enum EstadoServicio{
    Disponible
    NoDisponible
}


class Comunidad{
    -nombre: String
    -listaAdministradores: Administrador
    -listaMiembros: Miembro
}

class Administrador{
 -persona: Persona

}

class Miembro{
 -persona: Persona
}

class Designado{
 -usuario: Usuario
 -entidad: Entidad
}


class Persona{
    -usuario: Usuario
    -localizacionesDeInteres: List<Localizacion>
    -entidadesDeInteres: List<Entidad>
    -serviciosDeInteres: List<Servicio>
}


class Usuario{
    -username: String
    -password: String
}

PrestacionDeServicio --> Servicio
PrestacionDeServicio --> EstadoServicio

Comunidad *--"*" Miembro
Comunidad *--"*" Administrador

Miembro --> Persona
Administrador --> Persona

Persona --> Usuario

Entidad -->"1" Localizacion
Entidad -->"*" Establecimiento

Localizacion --> TipoLocalizacion

Establecimiento --> TipoEstablecimiento
Establecimiento -->"1" Localizacion
Establecimiento -->"*" PrestacionDeServicio

Persona -->"*" Localizacion
Persona -->"*" Entidad
Persona -->"*" Servicio

OrgControl --> Usuario
OrgControl --> Designado
OrgControl -->"*" Entidad

EmpresaDuenia --> Usuario
EmpresaDuenia --> Designado
Designado --> Usuario

Entidad <|-- Linea
Entidad <|-- Organizacion

Linea --> TipoLinea

EmpresaDuenia -->"*" Entidad

Municipio --|> Localizacion
Departamento --|> Localizacion
Provincia --|> Localizacion
Pais --|> Localizacion
@enduml